<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mengyang Lin&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Mengyang Lin&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Mengyang Lin's Blog">
<meta property="og:url" content="http://sunnylinmy.github.io/index.html">
<meta property="og:site_name" content="Mengyang Lin's Blog">
<meta property="og:description" content="Mengyang Lin&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mengyang Lin's Blog">
<meta name="twitter:description" content="Mengyang Lin&apos;s Blog">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  

  
    <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$$','$$$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">Mengyang Lin&#39;s Blog</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/css/images/Duke Garden_Portrait_square.jpg"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://sunnylinmy.github.io"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/categories">Categories</a></td>
      
        <td><a class="main-nav-link" href="/tags">Tags</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://sunnylinmy.github.io"></form>
      </td>
      </tr>
    </table>
  </div>
</header>
    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="/css/images/Duke Garden_Portrait_square.jpg">
      <h2 id="name">Mengyang Lin</h2>
      <h3 id="title">Seeking Full-time Opportunity</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Boston, Massachusetts</span>
      <a id="follow" href="https://github.com/sunnylinmy/">FOLLOW</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        3
        <span>posts</span>
      </div>
      <div class="article-info-block">
        4
        <span>tags</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="http://github.com/sunnylinmy/" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="/#" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
        
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      
      <section id="main">
      <article id="post-CCAPM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/22/CCAPM/">Empirical Test of Bond Market’s CCAPM Based on Asymmetric Exponential Power Distribution</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/06/22/CCAPM/">
    <time datetime="2015-06-22T23:02:19.000Z" itemprop="datePublished">2015-06-22</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Learning/">Learning</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Mengyang Lin, Jin Cao, Xuan Sun</p>
<h4 id="Abstract">Abstract</h4><p>Consumption-oriented capital asset pricing model (CCAPM) by Breeden (1979) is a financial model that extends the concepts of the traditional capital asset pricing model (CAPM) to include the consumption to measure the risk of a security by the covariance of its return with per capita consumption. It has become one of the most popular asset pricing models in the last 20 years. However, few previous research focuses on the simulation of the error terms of these asset pricing models. In this paper, we include the AEPD into the CCAPM to study its power. Nice properties of AEPD in CCAPM are found and always generate a better-fitting model.</p>
<p><strong><strong>Keywords</strong></strong>: Consumption-oriented capital asset pricing model, asymmetric exponential power distribution</p>
<h3 id="1-_Introduction">1. Introduction</h3><p>Consumption-oriented capital asset pricing model (CCAPM) by Breeden (1979) has been one of the most popularly used asset pricing models to measure the risk of a security by the covariance of its return with per capita consumption. This covariance is known as the consumption beta. The expected equity premium here is proportional to the consumption beta. Compared to capital asset pricing model (CAPM) by Lintner (1965) and Sharpe (1964), CCAPM is actually more important than the CAPM due to its integral role in modern macroeconomics. Nonetheless, the existing literature reports that the standard CCAPM model cannot explain the asset return in US by Breeden, Gibbons, Litzenberger (1989), Mankiw and Zeldes (1991) and Campbell and Cocherane (2000).</p>
<p>  Although previous literature has shown different reasons for not very good results got from CCAPM, most of the empirical tests of the CCAPM have only be conducted based on the assumption that the error term follows normal distribution. There has been unexpectedly limited research in the distribution of error term of asset pricing models. Thus, in this paper, instead of normal distribution, we assume that the error term follows asymmetric exponential power distribution (AEPD) when constructing the CCAPM and explore whether the results get improved. The reason why we use assumptions of asymmetric exponential power distribution is that AEPD has features of fat tails and skewness, which are essential to describe financial data. Zhu and Zinde-Walsh (2009) have done research on the probability density function of AEPD as well as its fatness and skewness, and proposed a method to generate AEPD random numbers. Jin (2011) incorporates AEPD into capital asset pricing model.</p>
<p>  In addition, we also find empirical evidence against the assumption that the error term in the CCAPM follows normal distribution. As shown in Table I and Graph I, consumption growth, nondurable consumption growth and BBB Corporate bond returns are negatively skewed while mortgage, long-term corporate bond and 10-year treasury yield show positive skewness. Besides, mortgage, long-term corporate bond and BBB corporate bond all have a kurtosis more than 3 and show fat tails in Graph I, while nondurable consumption, consumption and 10-year treasury yield have a kurtosis less than 3. All these are inconsistent with the normal distribution, which has a skewness of 0 and a kurtosis of 3, and thus support our assumption for the error term in CCAPM to follow AEPD.</p>
<p>  The negative skewness of BBB Corporate bonds indicates the nonlinearities of credit put option as well as the associated changing betas. Also, the positive skewness of 10-year treasury yield is consistent with the positive convexity of treasury notes. Long-term corporate bond shows slightly positive skewness, which may be because it contains not only junk and BBB bonds but also higher rated bonds and are thus more like treasury. Surprisingly, mortgage return shows positive skewness, which is contrary to the theory of prepayment option in mortgage. This may be because the Mortgage Master Merrill Lynch (M0A0) we used for mortgage return tracks the performance of all US dollar-denominated fixed rate and hybrid residential mortgage securities and consists of mortgages with different coupon rates, which would affect prepayment and mortgage returns and thus may lead to the positive skewness in mortgages.</p>
<p><strong><strong>Table I: Skewness and Kurtosis of Consumption, Nondurable Consumption, Mortgage, Long-term Corporate bond, 10-year Treasury and BBB Corporate Bond</strong></strong></p>
<table>
<thead>
<tr>
<th></th>
<th>Skewness</th>
<th>Kurtosis</th>
</tr>
</thead>
<tbody>
<tr>
<td>Consumption</td>
<td>-0.39522</td>
<td>0.817986</td>
</tr>
<tr>
<td>Nondurable Consumption</td>
<td>-0.26411</td>
<td>0.498609</td>
</tr>
<tr>
<td>Mortgage</td>
<td>1.601288</td>
<td>14.1077</td>
</tr>
<tr>
<td>Long Term Corporate Bond</td>
<td>0.700779</td>
<td>7.111248</td>
</tr>
<tr>
<td>10 Year Treasury Yield</td>
<td>0.785187</td>
<td>0.505254</td>
</tr>
<tr>
<td>BBB Corporate</td>
<td>-0.36899</td>
<td>13.29386</td>
</tr>
</tbody>
</table>
<p> <strong><strong>Graph I: The Empirical Distribution of Consumption, Nondurable Consumption, Mortgage, Long-term Corporate bond, 10-yr Treasury and BBB Corporate Bond</strong></strong></p>
<p> <img src="/images/mortgage_1.png" alt=""><br> <img src="/images/LTCB_1.png" alt=""><br> <img src="/images/10Yr_1.png" alt=""><br> <img src="/images/Non_1.png" alt=""><br> <img src="/images/consumption_1.png" alt=""></p>
<h3 id="2-_Model_and_Methodology">2. Model and Methodology</h3><p>The CCAPM-AEPD is proposed by assuming errors distributed as Asymmetric Exponential Power Distribution (AEPD). For convenience, we denote this model as CCAPM-AEPD. The CCAPM-AEPD model is given by:</p>
<p>$$$r_t = \beta_1 + \beta_2 c_t + u_t, u_t ~ AEPD(\alpha, p_1, p_2, \mu, \sigma^2 )$$$</p>
<p>where the AEPD density function has the following form:</p>
<p><img src="/images/f_formula.png" alt=""></p>
<p>$$$K_{EP} (p) = 1/[2p^{1/p} \Gamma (1+1/p)]$$$</p>
<p>$$$p_1 &gt;0, p_2 &gt; 0$$$</p>
<p>$$$ \alpha \in (0,1)$$$</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sunnylinmy.github.io/2015/06/22/CCAPM/" data-id="cib8i986400009so93yx683wi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learning-CCAPM-Bond/">learning, CCAPM, Bond</a></li></ul>

    </footer>
  </div>
  
</article>


    
      <article id="post-Recycle-Station" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/18/Recycle-Station/">Site Selection of Recycle Station of Nanshan District, Shenzhen, China</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/06/18/Recycle-Station/">
    <time datetime="2015-06-19T02:19:25.000Z" itemprop="datePublished">2015-06-18</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Learning/">Learning</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>When I was an undergraduate student in Nankai University, I chose a course called Data Structure and Computing Algorithms introduction from Department of Mathematics. Three years passed, I have learned a lot of other algorithms beyond the content of that class, and I found that the code I wrote at that time was kind of … duh. Never mind, this course raised my interest in machine learning at least and I really enjoyed it. In this post, I’m going to briefly review what I did in the course project: Site selection of recycle station of Nanshan District, Shenzhen, China. This project was finally presented in class on 2012-12-17 and the project was originally in a mathematical modeling contest. </p>
<p>In Nanshan District, there are 38 waste collection stations. Waste from every residential and commercial unit will be sent to the 38 waste collection everyday. Waste can be divided as two parts: recyclable and un recyclable. People in every waste collection station will separate the waste and send the recyclable waste to recycle station and send the unrecyclable waste to waste-to-energy burning plant located at the southwest part of Nanshan District. Thus, the project mainly consists of two problems: </p>
<ol>
<li>Since we have 2 sizes of recycle stations, big and small, how many and what kind of recycle stations are needed? Where should we set the waste recycle station to minimize the cost of transportation?</li>
<li>If we’re going to use one big truck from one collection station to transport unrecyclable waste from its original plant and other unrecylcable waste from some other collection station along its road to burning plant, what will be his optimal road?</li>
</ol>
<h3 id="Problem_1_Location_of_Recycle_Station">Problem 1 Location of Recycle Station</h3><p>The map of Nanshan District is:<br><img src="/images/Nanshan_map.png" alt=""></p>
<p>And the list of collection station looks like this:</p>
<table>
<thead>
<tr>
<th>Sequence</th>
<th>Name</th>
<th>Position</th>
<th>Operation Corporation</th>
<th>Quantity</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>9th Street Station</td>
<td>Shen Nan Ave beside Nantou Middle School</td>
<td>De Ying Li Corporation</td>
<td>20</td>
</tr>
<tr>
<td>2</td>
<td>Yu Quan Station</td>
<td>Yu Quan Rd and Bao Long Rd Crossing</td>
<td>De Ying Li Corporation</td>
<td>25</td>
</tr>
<tr>
<td>….</td>
<td>…..</td>
<td>………..</td>
<td>…………………..</td>
<td>………</td>
</tr>
<tr>
<td>38</td>
<td>Tang Lang Station</td>
<td>In Tang Lang Industrial Zone</td>
<td>Recycling Main Corporation</td>
<td>10</td>
</tr>
</tbody>
</table>
<p>We first marked every waste collection station manually according to the position described in the above list on the map. And put the map into mathematica to get the coordinates of every collection station like this:</p>
<p><img src="/images/Nanshan_coordinates.png" alt=""></p>
<p>And the list of coordinates of collection is as following, where </p>
<table>
<thead>
<tr>
<th>Sequence</th>
<th>X</th>
<th>Y</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2225</td>
<td>-5138</td>
<td>20</td>
</tr>
<tr>
<td>2</td>
<td>2749</td>
<td>-4940</td>
<td>25</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>….</td>
<td></td>
</tr>
<tr>
<td>38</td>
<td>5195</td>
<td>-3147</td>
<td>10</td>
</tr>
</tbody>
</table>
<h4 id="Problemt_1-1_Estimation_of_Cost">Problemt 1.1 Estimation of Cost</h4><p>To solve the problem of how many big or small recycle station to build, we did a simple estimation. The condition we have at that time is:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Number</th>
</tr>
</thead>
<tbody>
<tr>
<td>The Area of Nanshan District</td>
<td>182 km^2</td>
</tr>
<tr>
<td>Recyclable Waste in collection station</td>
<td>536 ton/day </td>
</tr>
<tr>
<td>Truck Load</td>
<td>10 ton </td>
</tr>
<tr>
<td>Truck fuel consumption per ton</td>
<td>27.5 L/100km</td>
</tr>
<tr>
<td>Fuel Price</td>
<td>7.5 RMB/L</td>
</tr>
<tr>
<td>Big Station Treatment Capacity</td>
<td>200 ton/day</td>
</tr>
<tr>
<td>Small Station Treatment Capacity</td>
<td>0.25 ton/day</td>
</tr>
<tr>
<td>Big Station Building Cost</td>
<td>45 Million RMB</td>
</tr>
<tr>
<td>Small Station Building Cost</td>
<td>0.28 Million RMB</td>
</tr>
<tr>
<td>Big Station Treatment Cost</td>
<td>150 RMB/ton</td>
</tr>
<tr>
<td>Small Station Treatment Cost</td>
<td>200 RMB/ton</td>
</tr>
</tbody>
</table>
<p>Thus, according the data of each waste collection station and the data above, we will have an estimation below:</p>
<table>
<thead>
<tr>
<th>Station</th>
<th>Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td>No. of Small Station : 2144</td>
<td>6.4 * 10^8 RMB/year</td>
</tr>
<tr>
<td>No. of Big Station: 1 and No. of Small Station: 1344</td>
<td>4.56 * 10^8 RMB/year</td>
</tr>
<tr>
<td>No. of Big Station: 2 and No. of Small Station: 544</td>
<td>2.58 * 10^8 RMB/year</td>
</tr>
<tr>
<td><strong><strong>No. of Big Station: 3</strong></strong></td>
<td>1.64 * 10^8 RMB/year</td>
</tr>
</tbody>
</table>
<p>Even if we think the Nanshan District is a round area and we put every collection station at the border with the recycle station at the center, we still find that the difference between every two condition above in the table is almost 30 times of the transportation cost every year. Thus, we don’t need to consider transportation cost when deciding what kinds of stations to build and the decision is to build 3 big stations since this results in the least cost every year.</p>
<h4 id="Problem_1-2_Clustering">Problem 1.2 Clustering</h4><p>Since we found 3 big stations is the answer, we then use hierarchical cluster analysis to cluster the collection stations into 3 group and then by finding the barycenter of each group we can determine which location to build the recycle station. As for the clustering analysis, we use a agglomerative way to divide. We first regards the 38 collection stations as in their own clusters, and limits the distance between each clusters and the way to calculate distance between each collection station. Then we combine every 2 “adjacent” stations to one cluster, and calculate the distance between this new cluster to other clusters, and so on, until we can see on the graph that the collection stations are divided into 3 groups.</p>
<p>Matlab code is as following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clc; &#10;data=xlsread(&#39;Book.xls&#39;,1);&#10;x=data(:,3);&#10;y=data(:,4);&#10;c=data(:,5);&#10;XY=[x y];&#10;Z = linkage(XY,&#39;ward&#39;,&#39;euclidean&#39;,&#39;savememory&#39;,&#39;on&#39;);&#10;c = cluster(Z,&#39;maxclust&#39;,3);&#10;scatter(x,y,10,c); &#10;dendrogram(X);&#10;hold on;</span><br></pre></td></tr></table></figure>
<p>Then the map after clustering is as following, with different groups are in different color:</p>
<p><img src="/images/Cluster.png" alt=""></p>
<p>And the relationship of clustering is as follows:</p>
<p><img src="/images/cluster3.png" alt=""></p>
<p>To find the barycenter within each group by regarding the treatment capacity as their “weight”, we can find the center depicted in the map:</p>
<p><img src="/images/3_recycle_station.png" alt=""></p>
<p>And the function to find the barycenter is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function cg=barycenter(mass,coord) &#10;% mass is the treatment capacity&#10;% coord is the coordinates of every station&#10;dm=size(coord); &#10;m=dm(1); &#10;n=dm(2); &#10;cg=zeros(1,n); &#10;tmass=sum(mass); &#10;for j=1:m &#10;         for i=1:n &#10;                 cg(i)=cg(i)+mass(j)*coord(j,i); &#10;         end &#10;end &#10;cg=cg/tmass;</span><br></pre></td></tr></table></figure>
<h3 id="Problem_2_Route_to_Burning_Plant">Problem 2 Route to Burning Plant</h3><p>To make this route we use <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" target="_blank" rel="external">Dijkstra</a> to find the shortest route for a truck if it starts from one station to the final station. For economic concern, we assume the truck should better go to other stations before it finally reaches the burning plant since everyday the unrecyclable waste in one station usually will not meet the upper limit of a truck’s capacity and thus the truck should go to multiple stations to save fuel for other trucks. </p>
<p>Next is an example code of one truck from No.31 station to Burning Plant. Since we regard the Burning Plant as the No.39 station, we put 39 as the end in the following program. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clc; clear; close all;&#10;points = load(&#8216;Points.txt&#39;);&#10;lines = load(&#39;Lines.txt&#39;);&#10;A = ones(size(points, 1))*Inf;&#10;for i = 1 : size(A, 1)&#10;    A(i, i) = 0;&#10;end&#10;&#10;figure(&#8216;NumberTitle&#8217;, &#8216;off&#8217;, &#8216;Name&#8217;, &#8216;&#10;Connections&#39;, ...&#10;    &#39;Color&#39;, &#39;w&#39;, &#39;units&#39;, &#39;normalized&#39;);&#10;hold on; axis on;&#10;plot(points(:, 2), points(:, 3), &#39;g.&#39;,&#39;MarkerSize&#39;,20);&#10;for i=1:length(points(:,2))&#10;    str=[num2str(i)];&#10;text(points(i,2),points(i,3),str,&#39;FontSize&#39;,10)&#10;end&#10;for i = 1 : size(lines, 1)&#10;    temp = lines(i, :);&#10;    pt1 = points(temp(2), 2 : end);&#10;    pt2 = points(temp(3), 2 : end);&#10;    len = norm([pt1(1)-pt2(1), pt1(2)-pt2(2)]);&#10;    A(temp(1), temp(2)) = len;&#10;    plot([pt1(1) pt2(1)], [pt1(2) pt2(2)], &#39;k-&#39;, &#39;LineWidth&#39;, 1);&#10;end&#10;s = 31; % Begin&#10;e = 39; % End&#10;[dist,path] = dijkstra2(points,lines,s,e);&#10;fprintf(&#39;\n Use Dijkstra the Min Distance is: %.5f \n&#39;, dist);&#10;fprintf(&#39;\n Use Dijkstra the Min Distance path is: \n&#39;);&#10;disp(path);</span><br></pre></td></tr></table></figure>
<p><img src="/images/dijkstra.png" alt=""><br><img src="/images/dijkstra2.png" alt=""></p>
<p>As the output indicates, if we are going to the Burning Plant from No.31 station, we should pass No. 32, No.5, No.7, No.12, No.17, No.10, No.36. </p>
<p>The dijkstra algorithm function is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function [dist,path] = dijkstra(nodes,segments,start_id,finish_id)&#10;&#10;    % initializations&#10;    node_ids = nodes(:,1);&#10;    [num_map_pts,cols] = size(nodes);&#10;    table = sparse(num_map_pts,2);&#10;    shortest_distance = Inf(num_map_pts,1);&#10;    settled = zeros(num_map_pts,1);&#10;    path = num2cell(NaN(num_map_pts,1));&#10;    col = 2;&#10;    pidx = find(start_id == node_ids);&#10;    shortest_distance(pidx) = 0;&#10;    table(pidx,col) = 0;&#10;    settled(pidx) = 1;&#10;    path(pidx) = &#123;start_id&#125;;&#10;    if (nargin &#60; 4) % compute shortest path for all nodes&#10;        while_cmd = &#39;sum(~settled) &#62; 0&#39;;&#10;    else % terminate algorithm early&#10;        while_cmd = &#39;settled(zz) == 0&#39;;&#10;        zz = find(finish_id == node_ids);&#10;    end&#10;    while eval(while_cmd)&#10;        % update the table&#10;        table(:,col-1) = table(:,col);&#10;        table(pidx,col) = 0;&#10;        % find neighboring nodes in the segments list&#10;        neighbor_ids = [segments(node_ids(pidx) == segments(:,2),3);&#10;            segments(node_ids(pidx) == segments(:,3),2)];&#10;        % calculate the distances to the neighboring nodes and keep track of the paths&#10;        for k = 1:length(neighbor_ids)&#10;            cidx = find(neighbor_ids(k) == node_ids);&#10;            if ~settled(cidx)&#10;                d = sqrt(sum((nodes(pidx,2:cols) - nodes(cidx,2:cols)).^2));&#10;                if (table(cidx,col-1) == 0) || ...&#10;                        (table(cidx,col-1) &#62; (table(pidx,col-1) + d))&#10;                    table(cidx,col) = table(pidx,col-1) + d;&#10;                    tmp_path = path(pidx);&#10;                    path(cidx) = &#123;[tmp_path&#123;1&#125; neighbor_ids(k)]&#125;;&#10;                else&#10;                    table(cidx,col) = table(cidx,col-1);&#10;                end&#10;            end&#10;        end&#10;        % find the minimum non-zero value in the table and save it&#10;        nidx = find(table(:,col));&#10;        ndx = find(table(nidx,col) == min(table(nidx,col)));&#10;        if isempty(ndx)&#10;            break&#10;        else&#10;            pidx = nidx(ndx(1));&#10;            shortest_distance(pidx) = table(pidx,col);&#10;            settled(pidx) = 1;&#10;        end&#10;    end&#10;    if (nargin &#60; 4) % return the distance and path arrays for all of the nodes&#10;        dist = shortest_distance&#39;;&#10;        path = path&#39;;&#10;    else % return the distance and path for the ending node&#10;        dist = shortest_distance(zz);&#10;        path = path(zz);&#10;        path = path&#123;1&#125;;&#10;    end&#10;end</span><br></pre></td></tr></table></figure>
<h3 id="Discussion">Discussion</h3><p>Looking back to this project, I did find some modifications that can be made, such as changing the euclidean distance to manhattan distance or trying to figure out a dynamic way to solve how many trucks are needed everyday to transport unrecyclable waste to Burning Plant. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sunnylinmy.github.io/2015/06/18/Recycle-Station/" data-id="cib8i988d00079so9a01gecl3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dijkstra/">Dijkstra</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hire/">Hire</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>

    </footer>
  </div>
  
</article>


    
      <article id="post-ML-Gradient-Descent1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/02/ML-Gradient-Descent1/">Machine Learning Study Notes - Gradient Descent</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/06/02/ML-Gradient-Descent1/">
    <time datetime="2015-06-02T04:00:00.000Z" itemprop="datePublished">2015-06-02</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/learning/">learning</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Since I was studying Machine Learning on coursera.org, I had an idea of putting my thoughts during the study on my personal website: sunnylinmy.github.io (or mengyanglin.com). And the first course of Machine Learning is <a href="https://en.wikipedia.org/wiki/Gradient_descent" target="_blank" rel="external">Gradient Descent</a>.<br><img src="../images/ML_GD_fig1.png" alt=""><br>In econometrics, the most common way to build model for forecasting is to use linear model first. After writing down the basic formula of linear model<br>$$$y=\theta_0+\theta_1 x_1+…+\theta_n x_n$$$ , </p>
<p>one may consider the OLS be the best way to estimate $$$\theta_0$$$  and  $$$\theta_1$$$ . As we all know, <a href="https://en.wikipedia.org/wiki/Ordinary_least_squares" target="_blank" rel="external">ordinary least squares</a> method is achieved by minimizing the differences between the observed responses and the responses predicted by the linear approximatin of the data, which is </p>
<p>$$${h_\theta(x^{(i)})=\hat{\theta_0} + \hat{\theta_1} x_1 +…+\hat{\theta_n} x_n}$$$ .  </p>
<p>And the differences are  $$$J (\theta<em>0,\theta_1,…,\theta_n) = {1 \over 2m} \sum((h</em>\theta(x^(i)) - y^(i))^2)$$$ . </p>
<p>Surely you can use functions embedded in R or Matlab to estimate the parameters very fast. However, how does embedded function in R or Matlab or other software minimize the cost function (indicated as the differences above) to calculate the parameters? One way is to use gradient descent. </p>
<p>The main idea of gradient descent is that one starts with a guess of $$${\theta_0, \theta_1,…\theta_n}$$$ and change every $$$\theta$$$ a little bit by some rule everytime and calculate corresponding cost function everytime. Hopefully, the cost function result will become smaller and smaller (i.e. converge) and thus we will get a local minimum. And the $$${\theta_0, \theta_1,…\theta_n}$$$ at that time are the $$$\theta$$$ s we want. </p>
<p>The some rule we need to change theta every time is:<br>$$$\theta_j = \theta_j - \alpha { \partial \over \partial \theta_j} J(\theta_0, \theta_1, …\theta_n)$$$.</p>
<p>(The reason we use this rule is $$$J(\theta_0,\theta_1,…,\theta_n)$$$ decreases fastest if one goes from original $$$\theta$$$ s in the direction of the negative gradient of J at $$$\theta$$$ s. And this is also why this rule called gradient descent.)</p>
<p>For example, we use matlab to do gradient descent. This example is from the first programming assignment of Machine Learning Course by Professor Andrew Ng on coursera.org. In the following code, we use theta to represent $$$\theta$$$ , computeCost to represent $$$J(\theta_0,\theta_1,…\theta_n)$$$.</p>
<p><strong>Load Data</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = load(&#39;yourdata.txt&#39;);&#10;X = data(:,1);&#10;y = data(:,2);&#10;m = length(y);</span><br></pre></td></tr></table></figure>
<p><strong>Use Gradient Descent to Calculate parameters</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X = [ones(m, 1), data(:,1)]; % Add a column of ones to x&#10;theta = zeros(2, 1); % initialize fitting parameters&#10;&#10;% Some gradient descent settings&#10;iterations = 1500;&#10;alpha = 0.01;&#10;&#10;% compute and display initial cost&#10;computeCost(X, y, theta)&#10;&#10;% run gradient descent&#10;theta = gradientDescent(X, y, theta, alpha, iterations);</span><br></pre></td></tr></table></figure>
<p>Thus, we need to write two functions: computeCost and gradientDescent function. </p>
<p><strong><em>computeCost</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function J = computeCost(X, y, theta)&#10;    J= 0.5*1/m*sum((X*theta-y).^2)&#10;end</span><br></pre></td></tr></table></figure>
<p><strong><em>gradientDescent</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function [theta, J_history] = gradientDescent(X, y, theta, alpha, num_iters)&#10;   m = length(y); % number of training examples&#10;   J_history = zeros(num_iters, 1);  &#10;   for iter = 1:num_iters&#10;      cost = X&#39;*((X*theta)-y);&#10;      theta = theta - ((alpha/m)*cost);&#10;      J_history(iter) = computeCost(X, y, theta);&#10;   end&#10;end</span><br></pre></td></tr></table></figure>
<p>The matlab code will print out 1500 lines of cost function results and when you see the J turn to be steady, the corresponding thetas are the thetas wanted. Furthermore, if we set a tolerance rate and if-else conditions, we don’t need to print out that many Js.<br>Following is the graph of cost J s and corresponding $$$\theta$$$ s.<br><img src="../images/ML_GD_fig2.png" alt=""><br><img src="../images/ML_GD_fig3.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sunnylinmy.github.io/2015/06/02/ML-Gradient-Descent1/" data-id="cib8i988i000f9so97sds6g0n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>

    </footer>
  </div>
  
</article>


    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/06/22/CCAPM/" class="thumbnail">
  
    <span style="background-image:url(/images/mortgage_1.png
)" alt="Empirical Test of Bond Market’s CCAPM Based on Asymmetric Exponential Power Distribution" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Learning/">Learning</a></p>
              <p class="item-title"><a href="/2015/06/22/CCAPM/" class="title">Empirical Test of Bond Market’s CCAPM Based on Asymmetric Exponential Power Distribution</a></p>
              <p class="item-date"><time datetime="2015-06-22T23:02:19.000Z" itemprop="datePublished">2015-06-22</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/06/18/Recycle-Station/" class="thumbnail">
  
    <span style="background-image:url(/images/Nanshan_map.png
)" alt="Site Selection of Recycle Station of Nanshan District, Shenzhen, China" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Learning/">Learning</a></p>
              <p class="item-title"><a href="/2015/06/18/Recycle-Station/" class="title">Site Selection of Recycle Station of Nanshan District, Shenzhen, China</a></p>
              <p class="item-date"><time datetime="2015-06-19T02:19:25.000Z" itemprop="datePublished">2015-06-18</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/06/02/ML-Gradient-Descent1/" class="thumbnail">
  
    <span style="background-image:url(/../images/ML_GD_fig1.png
)" alt="Machine Learning Study Notes - Gradient Descent" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/learning/">learning</a></p>
              <p class="item-title"><a href="/2015/06/02/ML-Gradient-Descent1/" class="title">Machine Learning Study Notes - Gradient Descent</a></p>
              <p class="item-date"><time datetime="2015-06-02T04:00:00.000Z" itemprop="datePublished">2015-06-02</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Learning/">Learning</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/learning/">learning</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dijkstra/">Dijkstra</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hire/">Hire</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning-CCAPM-Bond/">learning, CCAPM, Bond</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Dijkstra/" style="font-size: 10px;">Dijkstra</a> <a href="/tags/Hire/" style="font-size: 10px;">Hire</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/learning-CCAPM-Bond/" style="font-size: 10px;">learning, CCAPM, Bond</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Mengyang Lin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$$','$$$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>